import{_ as s,o as n,c as a,V as l}from"./chunks/framework.b450deef.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"articles/04-é¢è¯•/æ‰‹å†™ç³»åˆ—/æ‰‹å†™ç³»åˆ—-callbind.md","filePath":"articles/04-é¢è¯•/æ‰‹å†™ç³»åˆ—/æ‰‹å†™ç³»åˆ—-callbind.md"}'),o={name:"articles/04-é¢è¯•/æ‰‹å†™ç³»åˆ—/æ‰‹å†™ç³»åˆ—-callbind.md"},p=l(`<blockquote><p><code>this</code> æ˜¯èƒ½æ”¹çš„ï¼Œ<code>call</code> å’Œ <code>apply</code> éƒ½å¯ä»¥ä¿®æ”¹ <code>this</code>ï¼ŒES5é‡Œé¢è¿˜æ–°å¢äº†ä¸€ä¸ª<code>bind</code>å‡½æ•°</p></blockquote><p><code>thisæŒ‡å‘</code>ç›¸å…³ç¬”è®°åç»­è¡¥ TODO:</p><h2 id="callã€applyã€bindç”¨æ³•" tabindex="-1">callã€applyã€bindç”¨æ³• <a class="header-anchor" href="#callã€applyã€bindç”¨æ³•" aria-label="Permalink to &quot;callã€applyã€bindç”¨æ³•&quot;">â€‹</a></h2><blockquote><p>å»ºè®®å…ˆçœ‹</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noreferrer">call - mdnæ–‡æ¡£</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noreferrer">apply - mdnæ–‡æ¡£</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="noreferrer">bind - mdnæ–‡æ¡£</a></p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">year</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">year</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">obj1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(obj1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> year)</span></span></code></pre></div><p>ğŸ‘† åœ¨<code>test</code>ä¸Šå¹¶æ²¡æœ‰å®šä¹‰<code>call</code>ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨<code>test.call</code>æ¥è°ƒç”¨ï¼Œè¯æ˜<code>call</code>æ˜¯<code>åŸå‹é“¾</code>ä¸Šçš„å‡½æ•°</p><p>æ³¨æ„åœ¨<strong>éä¸¥æ ¼æ¨¡å¼</strong>ä¸‹ï¼Œç›®æ ‡å¯¹è±¡æ˜¯<code>null</code>æˆ–è€…<code>undefined</code>ï¼Œ<code>this</code>å°†æŒ‡å‘<code>window</code>ï¼Œè€Œ<strong>ä¸¥æ ¼æ¨¡å¼</strong>å°†ä¼šæ˜¯<code>undefined</code></p><p>åŸå‹é“¾ç›¸å…³ç¬”è®°åç»­è¡¥ TODO:</p><h2 id="å®ç°call" tabindex="-1">å®ç°call <a class="header-anchor" href="#å®ç°call" aria-label="Permalink to &quot;å®ç°call&quot;">â€‹</a></h2><p>ä¸Šé¢ä¾‹å­ï¼Œæˆ‘ä»¬æƒ³è¦è®©<code>test</code>çš„<code>this</code>æŒ‡å‘<code>obj1</code>ï¼Œåªéœ€è¦ç”¨<code>obj1.test()</code>çš„å½¢å¼è°ƒç”¨å³å¯,å‰ææ˜¯<code>obj1ä¸Šè¦æœ‰test</code></p><p>æ‰€ä»¥ä¿®æ”¹<code>this</code>æŒ‡å‘å·¥å…·æ–¹æ³•çš„æ€è·¯å°±æœ‰äº†</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">call</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">() </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>æ‰§è¡Œ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(test</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj1)</span></span></code></pre></div><p>ğŸ‘‡ å¦‚mdnæ–‡æ¡£è¯´çš„ï¼Œè¿™ç§æƒ…å†µ<strong>éä¸¥æ ¼æ¨¡å¼</strong>ä¼šæ˜¯<code>window</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">call</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">taget</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">undefined</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">() </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ä¸ºäº†å‡å°‘å®ç°çš„å¤æ‚åº¦ï¼Œæˆ‘ä»¬ä»¥ä¸‹çš„å®ç°éƒ½å¿½ç•¥<code>target</code>æ˜¯<code>null</code>å’Œ<code>undefined</code>çš„æƒ…å†µ</p><p>æˆ‘ä»¬æŠŠå‚æ•°ä¹Ÿè¡¥ä¸Š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">call</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arg</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ğŸ‘‡ æŒ‚åœ¨<code>Function</code>åŸå‹ä¸Š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚ä¸‹è°ƒç”¨ thiså°±æ˜¯testå‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arg</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;">()</span></span></code></pre></div><h2 id="å®ç°apply" tabindex="-1">å®ç°apply <a class="header-anchor" href="#å®ç°apply" aria-label="Permalink to &quot;å®ç°apply&quot;">â€‹</a></h2><blockquote><p><code>apply</code> å’Œ <code>call</code> åŸºæœ¬ä¸€æ ·ï¼Œåªæ˜¯è®©å‚æ•°é€šè¿‡æ•°ç»„ä¼ å…¥</p><p>å¯èƒ½æ˜¯æƒ³æ–¹ä¾¿å°è£…å·¥å…·çš„æ—¶å€™ï¼Œå‚æ•°æœªçŸ¥ï¼Œç”¨<code>call</code>å°±ä¸å¤ªæ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ä¼ å…¥ <code>arguments</code></p><p>ä½†æ˜¯å‚æ•°æœªçŸ¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ å…¥è§£æ„ <code>arguments</code> ä¼ å…¥ä¸å°±è¡Œäº†å—...ä¸ªäººè§‰å¾—æ˜¯ç›¸åŒåŠŸèƒ½çš„ä¸œè¥¿è®¾è®¡2ä¸ªAPIæ˜¯å¤šä½™çš„</p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">apply</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">params</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ğŸ‘‡ æˆ‘ä»¬å¤ç”¨ä¸€ä¸‹<code>call</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">apply</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">params</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ğŸ‘‡ æŒ‚åœ¨<code>Function</code>åŸå‹ä¸Š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myApply</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚ä¸‹è°ƒç”¨ thiså°±æ˜¯testå‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">params</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myApply</span><span style="color:#A6ACCD;">()</span></span></code></pre></div><h2 id="å®ç°bind" tabindex="-1">å®ç°bind <a class="header-anchor" href="#å®ç°bind" aria-label="Permalink to &quot;å®ç°bind&quot;">â€‹</a></h2><blockquote><p><code>bind</code>ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ª<code>this</code>æŒ‡å‘<strong>ä¿®æ”¹åçš„å‡½æ•°</strong></p></blockquote><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bind</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">arg2</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p><strong>newçš„é—®é¢˜</strong></p><blockquote><p>ç”±äºbindè¿”å›çš„æ˜¯å‡½æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°è¢«æ€ä¹ˆè°ƒç”¨å°±ä¸æ˜¯æˆ‘ä»¬å¯ä»¥æ§åˆ¶çš„äº† è€Œä¸”bindæ˜¯ä¿®æ”¹thisæŒ‡å‘ï¼Œå¦‚æœè¿”å›çš„å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™åˆæ˜¯å¦ä¸€ç§thisæŒ‡å‘çš„è¯‰æ±‚å°±gg è€Œæ°æ°newä¸€ä¸ªå‡½æ•°å°±æ˜¯è¿™ç§æƒ…å†µ</p></blockquote><p>ç®€å•æ¥è¯´newçš„thisæŒ‡å‘ä¼˜å…ˆçº§æœ€é«˜</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">obj1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> newTest </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(test)</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">newTest</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// ä¸æ˜¯ç›´æ¥æ‰§è¡ŒnewTest è€Œæ˜¯new</span></span></code></pre></div><p>ğŸ‘† æ­¤æ—¶çš„testè™½ç„¶è¢«ä¿®æ”¹äº†<code>this</code>æŒ‡å‘ï¼Œä½†æ˜¯åœ¨<code>new</code>é¢å‰ï¼Œthisä¼šæ˜¯newå‡ºæ¥çš„å¯¹è±¡</p><p>å…³äºnewçš„åŸç†ï¼Œ<a href="./æ‰‹å†™ç³»åˆ—-newåŸç†.html">æ‰‹å†™ç³»åˆ—-newåŸç†</a></p><p>ğŸ‘‡ æˆ‘ä»¬å¤„ç†ä¸€ä¸‹ä¼˜å…ˆçº§çš„é—®é¢˜ é€šè¿‡æ‰§è¡Œæ—¶çš„<code>this</code>æ˜¯ä¸æ˜¯å‡½æ•°è‡ªèº«æ¥åˆ¤æ–­æ˜¯newæ‰§è¡Œè¿˜æ˜¯ç›´æ¥æ‰§è¡Œåšä¸åŒçš„å¤„ç†</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bind</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">F</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">arg2</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡æ‰§è¡Œæ—¶thisæ˜¯ä¸æ˜¯å‡½æ•°è‡ªèº«æ¥åˆ¤æ–­æ˜¯new</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">F</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ğŸ‘‡ æˆ‘ä»¬å¤ç”¨ä¸€ä¸‹call</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bind</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">arg2</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡æ‰§è¡Œæ—¶thisæ˜¯ä¸æ˜¯å‡½æ•°è‡ªèº«æ¥åˆ¤æ–­æ˜¯new</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">F</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>ğŸ‘‡ æŒ‚åœ¨FunctionåŸå‹ä¸Š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myBind</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚ä¸‹è°ƒç”¨ thiså°±æ˜¯testå‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">arg2</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡æ‰§è¡Œæ—¶thisæ˜¯ä¸æ˜¯å‡½æ•°è‡ªèº«æ¥åˆ¤æ–­æ˜¯new</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">F</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŠŠå‡½æ•°æŒ‚åˆ°ç›®æ ‡å¯¹è±¡çš„ä¸´æ—¶å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arg</span><span style="color:#89DDFF;">,...</span><span style="color:#A6ACCD;">arg2</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> newtest </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myBind</span><span style="color:#A6ACCD;">(obj1)</span></span>
<span class="line"><span style="color:#82AAFF;">newtest</span><span style="color:#A6ACCD;">()</span></span></code></pre></div><h2 id="æ‹“å±•ä¼˜åŒ–" tabindex="-1">æ‹“å±•ä¼˜åŒ– <a class="header-anchor" href="#æ‹“å±•ä¼˜åŒ–" aria-label="Permalink to &quot;æ‹“å±•ä¼˜åŒ–&quot;">â€‹</a></h2><p>æˆ‘ä»¬æŠŠå‡½æ•°ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡æŒ‚åœ¨ç›®æ ‡å¯¹è±¡ä¸Šï¼Œè°ƒç”¨åå°±åˆ é™¤</p><p>è¿™ä¸ªä¸´æ—¶å˜é‡æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>Symbol</code> æ•°æ®ç±»å‹å®ç°</p><p>å¥½å¤„æ˜¯è¿™ä¸ªä¸´æ—¶å˜é‡åšçš„å±æ€§åæ˜¯<strong>å”¯ä¸€</strong>çš„ï¼Œä¸ä¼šè¢«ä¸šåŠ¡ä»£ç è¦†ç›–</p><p>å¦‚ğŸ‘‡ <code>call</code>æ”¹é€ </p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">arg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fnKey</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// ç”¨Symbolåšä¸´æ—¶å˜é‡å±æ€§å</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnKey</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å¦‚ä¸‹è°ƒç”¨ thiså°±æ˜¯testå‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnKey</span><span style="color:#F07178;">](</span><span style="color:#A6ACCD;">arg</span><span style="color:#F07178;">) </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡ç›®æ ‡å¯¹è±¡æ‰§è¡Œå‡½æ•°å³å¯è®©thisæŒ‡å‘ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">fnKey</span><span style="color:#F07178;">]  </span><span style="color:#676E95;font-style:italic;">// æ¸…é™¤ä¸ºäº†ä¿®æ”¹thisæŒ‡å‘è€ŒæŒ‚ä¸Šå¯¹è±¡çš„å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// éœ€è¦è¿”å›è¿è¡Œç»“æœ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>å…³äº <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol" target="_blank" rel="noreferrer">Symbol - mdnæ–‡æ¡£</a> æ•°æ®ç±»å‹ï¼Œåé¢è¡¥å……</p><h2 id="ä»£ç åœ°å€" tabindex="-1">ä»£ç åœ°å€ <a class="header-anchor" href="#ä»£ç åœ°å€" aria-label="Permalink to &quot;ä»£ç åœ°å€&quot;">â€‹</a></h2><p><a href="https://codepen.io/collection/kNgywB" target="_blank" rel="noreferrer">ä»£ç codepen</a></p><p>TODO: å®é™…ä¸Šæ˜¯å¤ç”¨applyå®ç°ï¼Œè€Œä¸æ˜¯callçš„å—ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><ul><li><a href="http://dennisgo.cn/Articles/JavaScript/this.html" target="_blank" rel="noreferrer">thisæŒ‡å‘</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="noreferrer">call - mdnæ–‡æ¡£</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="noreferrer">apply - mdnæ–‡æ¡£</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="noreferrer">bind - mdnæ–‡æ¡£</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol" target="_blank" rel="noreferrer">Symbol - mdnæ–‡æ¡£</a></li></ul>`,55),e=[p];function t(c,r,y,F,D,i){return n(),a("div",null,e)}const d=s(o,[["render",t]]);export{C as __pageData,d as default};
