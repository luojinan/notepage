import{_ as s,o as n,c as a,V as l}from"./chunks/framework.b450deef.js";const i=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"articles/01-æ·±åº¦å­¦ä¹ /js/é«˜é˜¶å‡½æ•°.md","filePath":"articles/01-æ·±åº¦å­¦ä¹ /js/é«˜é˜¶å‡½æ•°.md"}'),p={name:"articles/01-æ·±åº¦å­¦ä¹ /js/é«˜é˜¶å‡½æ•°.md"},o=l(`<p><a href="https://www.bilibili.com/video/BV16a411d72j" target="_blank" rel="noreferrer">JavaScript æ·±åº¦å‰–æ</a></p><p>è·Ÿç€è§†é¢‘æ‰‹å†™ æ•°ç»„æ–¹æ³• ç”¨ts</p><p>é—­åŒ… = é«˜é˜¶å‡½æ•°</p><p>é—­åŒ…çš„æ¦‚å¿µèšç„¦åœ¨å†…ç®¡å›æ”¶ä¸Š</p><p>é«˜é˜¶å‡½æ•°çš„æ¦‚å¿µèšç„¦åœ¨å‡½æ•°å¯ä»¥ç”¨åœ¨ä»»ä½•åœ°æ–¹(å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘)</p><p>é€šè¿‡æŠŠä¸€ä¸ªå‡½æ•°(å›è°ƒå‡½æ•°)ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè®©å¦ä¸€ä¸ªå‡½æ•°æ›´çµæ´»</p><p>ä¸€äº›å¸¸ç”¨çš„jså†…ç½®æ•°ç»„æ“ä½œæ–¹æ³•ï¼Œå°±æ˜¯å…¸å‹çš„é«˜é˜¶å‡½æ•°(å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°) ç”¨tså®ç°</p><h4 id="map" tabindex="-1">map <a class="header-anchor" href="#map" aria-label="Permalink to &quot;map&quot;">â€‹</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// map</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 1.è®¾ç½®ä¸€ä¸ªæ³›å‹T</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   ä¼ å…¥æ•°ç»„çš„å‚æ•°ç±»å‹ è®¾ç½®ä¸º æ³›å‹æ•°ç»„ Array[T]ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2.è®¾ç½®ä¸€ä¸ªæ³›å‹U</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//   å›è°ƒå‡½æ•°ä¸­çš„è¿”å›å€¼ç±»å‹ éœ€è¦ ä¿æŒè·Ÿæˆ‘ä»¬å½“å‰å‡½æ•°è¿”å›å‡ºå»çš„æ–°æ•°ç»„ç±»å‹ä¸€è‡´</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">,</span><span style="color:#FFCB6B;">U</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">readonly</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">U</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">U</span><span style="color:#A6ACCD;">[] </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resultList</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">resultList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resultList</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>æµ‹è¯•tsç¼–è¯‘æ•ˆæœ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å¼•å…¥mapæ–¹æ³•</span></span>
<span class="line"><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">([</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// ä¿®æ”¹readonlyå‚æ•° ç¼–è¯‘æœŸé—´éœ€è¦æŠ¥é”™</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è¯»å–itemä¸å­˜åœ¨çš„å±æ€§ï¼Œç¼–è¯‘æœŸé—´éœ€è¦æŠ¥é”™</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// </span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>æ³›å‹çš„ä½¿ç”¨ï¼Œéœ€è¦åœ¨å‡½æ•°ååæ‹¬å·å‰ï¼Œå°±æå‰å®šä¹‰å¥½æ³›å‹å</p><p>æ³›å‹æ•°ç»„çš„å®šä¹‰æ–¹å¼å¯ä»¥æ˜¯<code>Array&lt;T&gt;</code> <code>T[]</code></p><p>å®šä¹‰å¥½ä¹‹åï¼Œå¼•ç”¨æ–¹å†™å›è°ƒå‡½æ•°æ—¶ï¼Œitemç­‰å‚æ•°ä¼šæ ¹æ®listè‡ªåŠ¨æ¨å¯¼å‡ºæ¥ <img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20221017104609.png" alt=""></p><p>å¯ä»¥ç»™ä»»æ„ç±»å‹å‰åŠ ä¸€ä¸ª <code>readonly</code> å¦‚å›è°ƒå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°listä¸å…è®¸å›è°ƒå‡½æ•°ä¿®æ”¹ <img src="https://kingan-md-img.oss-cn-guangzhou.aliyuncs.com/blog/20221017104444.png" alt=""></p><h4 id="some" tabindex="-1">some <a class="header-anchor" href="#some" aria-label="Permalink to &quot;some&quot;">â€‹</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * some() æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰ 1 ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•ã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª Boolean ç±»å‹çš„å€¼ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">callback</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">returns</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">some</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">:</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">break</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="every" tabindex="-1">every <a class="header-anchor" href="#every" aria-label="Permalink to &quot;every&quot;">â€‹</a></h4><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * every() æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">callback</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">returns</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">every</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">:</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">  </span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">callback</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">list</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">break</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p><a href="https://www.bilibili.com/video/BV16a411d72j?p=9" target="_blank" rel="noreferrer">è§†é¢‘p9</a></p><h2 id="é—­åŒ…" tabindex="-1">é—­åŒ… <a class="header-anchor" href="#é—­åŒ…" aria-label="Permalink to &quot;é—­åŒ…&quot;">â€‹</a></h2><blockquote><p>å‡½æ•°è¿”å›å‡½æ•°(é«˜é˜¶å‡½æ•°)ï¼Œå¹¶ä¸”å­å‡½æ•°è°ƒç”¨åˆ°çˆ¶çº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œå½¢æˆé—­åŒ…</p><p>æ­¤æ—¶çš„å˜é‡ä¸ä¼šè¢«å›æ”¶</p></blockquote><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * åªè§¦å‘ä¸€æ¬¡ç›®æ ‡å‡½æ•°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * å‡½æ•°è¿”å›å‡½æ•°ï¼Œå­å‡½æ•°è°ƒç”¨çˆ¶çº§ä½œç”¨åŸŸå˜é‡ï¼Œå½¢æˆé—­åŒ…ï¼Œä¸ä¼šå›æ”¶doneå˜é‡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">returns</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">once</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">:</span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">):</span><span style="color:#FFCB6B;">Function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">done</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">done</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">done</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">pay</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ”¯ä»˜</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> payOnce </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">once</span><span style="color:#A6ACCD;">(pay)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">payOnce</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#82AAFF;">payOnce</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// åªä¼šè¾“å‡ºä¸€æ¬¡&#39;æ”¯ä»˜&#39;</span></span></code></pre></div><p>é—­åŒ…çš„æœ¬è´¨ï¼š å‡½æ•°åœ¨æ‰§è¡Œæ ˆä¸Šæ‰§è¡Œï¼Œå½“æ‰§è¡Œå®Œæ¯•ä¼šç§»é™¤è¯¥å‡½æ•°ã€‚è€Œå˜é‡å­˜æ”¾åœ¨å †ä¸Šï¼Œå˜é‡è¢«å­å‡½æ•°å¼•ç”¨ï¼Œè€Œä¸ä¼šè¢«ç§»é™¤(å›æ”¶)</p><p>å®æ“åœºæ™¯ä¸‹ï¼Œé—­åŒ…å¸¸ç”¨äºç¼“å­˜æ•°æ®(ç§æœ‰å˜é‡)</p><p>å³å¯ä»¥æ›¿ä»£classç±»çš„ä½œç”¨äº†</p><p>é—­åŒ…å‡½æ•°ä¸€èˆ¬ç”¨ <code>makeXX</code> å‘½å</p><h2 id="çº¯å‡½æ•°-pure-function" tabindex="-1">çº¯å‡½æ•° Pure Function <a class="header-anchor" href="#çº¯å‡½æ•°-pure-function" aria-label="Permalink to &quot;çº¯å‡½æ•° Pure Function&quot;">â€‹</a></h2><blockquote><p>ç›¸åŒè¾“å…¥å§‹ç»ˆä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œå¹¶ä¸”æ²¡æœ‰å‰¯ä½œç”¨</p></blockquote><p>å³çº¯å‡½æ•°å†…éƒ¨å¤„ç†é€»è¾‘æ²¡æœ‰å˜é‡ï¼Œéƒ½æ˜¯å¸¸é‡</p><p>ä¸”ä¸ä¼šæ”¹å˜ç›®æ ‡æ•°æ®</p><ul><li>çº¯å‡½æ•°ï¼š Array.slice</li><li>ä¸çº¯å‡½æ•°ï¼š Array.splice</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// [1,2,3]</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// [1,2,3]</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// [1,2,3]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// [1,2,3]</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// [4,5]</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// []</span></span></code></pre></div><p>lodashä¸­çš„çº¯å‡½æ•°</p><p>è®°å¿†å‡½æ•°</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/** </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * ä»¥ç›®æ ‡å‡½æ•°å‚æ•°ä¸ºkeyè¿›è¡Œç¼“å­˜</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * ä»…é€‚ç”¨äºç›®æ ‡å‡½æ•°å†…å®¹ä¸ä¼šå˜åŒ–çš„ä¸œè¥¿ï¼Œå¦‚æ¥å£è¿”å›çš„æ•°æ®éœ€è¦å®æ—¶æ›´æ–°ä¸èƒ½ç¼“å­˜</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * å½“ç„¶çŸ­æœŸå†…ä¸ä¼šå˜åŒ–çš„æ¥å£ä¹Ÿå¯ä»¥ç¼“å­˜ï¼Œå› ä¸ºç¼“å­˜åˆ°ä½œç”¨åŸŸè€Œå·²ï¼Œå…³é—­ç½‘é¡µç¼“å­˜å†…å®¹å°±æ²¡äº†</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * TODO: å¼‚æ­¥è®°å¿†å‡½æ•°å¦‚ä½•å¤„ç†</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">memoize</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cache</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cache</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cache</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cache</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getSomething</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰§è¡Œä¸€æ®µå¤æ‚è€—æ—¶çš„å¤„ç†é€»è¾‘</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">something</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> getSomethingWithMemory </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">memoize</span><span style="color:#A6ACCD;">(getSomething)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">getSomethingWithMemory</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#82AAFF;">getSomethingWithMemory</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#82AAFF;">getSomethingWithMemory</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// åªæ‰“å°äº†ä¸€æ¬¡â€˜æ‰§è¡Œä¸€æ®µå¤æ‚è€—æ—¶çš„å¤„ç†é€»è¾‘â€™</span></span></code></pre></div><p>å‰¯ä½œç”¨</p><p>ä¸Šé¢è¯´åˆ° çº¯å‡½æ•°å†…éƒ¨å¤„ç†é€»è¾‘æ²¡æœ‰å˜é‡ï¼Œéƒ½æ˜¯å¸¸é‡</p><p>è¿™é‡Œçš„å˜é‡å°±æ˜¯çº¯å‡½æ•°æ¦‚å¿µé‡Œçš„å‰¯ä½œç”¨</p><p>å‰¯ä½œç”¨ä¼šä½¿çº¯å‡½æ•°æˆç«‹ä¸äº†</p><p>è€Œå˜é‡å¸¸å¸¸ä¸å¯é¿å…ï¼Œæˆ‘ä»¬åº”è¯¥åˆ©ç”¨å‡½æ•°åŒ…è£¹å°½é‡é¿å…æ‰å‰¯ä½œç”¨</p><p>æŸ¯é‡ŒåŒ– å°±å¯ä»¥è§£å†³å‰¯ä½œç”¨å˜é‡çš„é—®é¢˜</p><p>æŠŠä¸€ä¸ªä¸çº¯çš„å‡½æ•°ï¼Œæ‹†åˆ†æˆ2ä¸ªçº¯å‡½æ•°</p><p>æŸ¯é‡ŒåŒ–æ¡ˆä¾‹ æ‹†åˆ†ä¸çº¯å‡½æ•°æ¡ˆä¾‹</p><p>è‡ªå·±å†™ä¸€ä¸‹ä¸ä½¿ç”¨æŸ¯é‡ŒåŒ–çš„å¯¹æ¯”</p><p>ä¸æ‹†åˆ†çš„è¯ï¼Œå‡½æ•°æ— æ³•å¤ç”¨</p><p><a href="https://www.bilibili.com/video/BV16a411d72j?p=17" target="_blank" rel="noreferrer">è§†é¢‘p17</a></p><h2 id="å‡½æ•°æŸ¯é‡ŒåŒ–" tabindex="-1">å‡½æ•°æŸ¯é‡ŒåŒ– <a class="header-anchor" href="#å‡½æ•°æŸ¯é‡ŒåŒ–" aria-label="Permalink to &quot;å‡½æ•°æŸ¯é‡ŒåŒ–&quot;">â€‹</a></h2><blockquote><p>ä¸€ä¸ªå‡½æ•°å¤šæ¬¡è°ƒç”¨ä¼ å…¥ä¸åŒçš„å‚æ•°ï¼Œç»Ÿä¸€æ‰€æœ‰å‚æ•°è®¡ç®—å‡ºç»“æœ</p><p>æœ¬è´¨ä¸ŠåŸç†å°±æ˜¯ç¼“å­˜ä½å‡½æ•°çš„å‚æ•°</p></blockquote><ul><li>åˆ©ç”¨å‡½æ•°è¿”å›å‡½æ•°ï¼Œæ¥æ‹¼æ¥æš‚å­˜ä½å‚æ•°é›†åˆ</li><li>åŠ ä¸Šå‚æ•°æ•°é‡çš„åˆ¤æ–­æ¡ä»¶å†³å®šæ˜¯æ‰§è¡Œç›®æ ‡å‡½æ•°ï¼Œè¿˜æ˜¯ç»§ç»­è¿”å›åŒ…è£…çš„æœªæ‰§è¡Œå‡½æ•°</li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æŸ¯é‡ŒåŒ–å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> curry </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">curriedFn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æœªè¾¾åˆ°è§¦å‘æ¡ä»¶(ç›®æ ‡å‡½æ•°æ‰€éœ€è¦çš„å‚æ•°æ•°é‡)ï¼Œç»§ç»­æ”¶é›†å‚æ•°ï¼Œä¸æ‰§è¡Œç›®æ ‡å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// sliceæ–¹æ³•å†…éƒ¨çš„thiså°±ä¼šè¢«æ›¿æ¢æˆargumentsï¼Œå¹¶å¾ªç¯éå†argumentsï¼Œå¤åˆ¶åˆ°æ–°æ•°ç»„è¿”å›ï¼Œè¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªå¤åˆ¶argumentsç±»æ•°ç»„çš„æ•°ç»„å¯¹è±¡ã€‚</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">curriedFn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">([]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">slice</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)))</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> multiply </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">z</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">y</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">z</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> curryMul </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curry</span><span style="color:#A6ACCD;">(multiply)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curryMul</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 1*2*3 = 6</span></span></code></pre></div><p>ğŸ‘†æ˜¯æŸ¯é‡ŒåŒ–å‡½æ•°è¡¨é¢ä¸Šçš„ä½œç”¨</p><p>å®æ“åœºæ™¯ä¸‹çš„å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å‡å°‘é‡å¤ä»£ç </p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// é€šè¿‡æ­£åˆ™åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦ï¼Œæ¥å‚æ•°(æ­£åˆ™,ç›®æ ‡å­—ç¬¦)</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">reg</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">match</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">reg</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> str1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">qwer111</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> str2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">qwer222</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> str3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">qwer333</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŒ¹é…å‡º3ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str1)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str2)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str3)</span></span></code></pre></div><p>ğŸ‘† <code>strMatchByReg</code> ç›¸åŒå‚æ•°å¾—åˆ°ç›¸åŒçš„ç»“æœï¼Œæ‰€ä»¥æ˜¯çº¯å‡½æ•°ï¼Ÿ</p><p>è¿™é‡Œä¼šå‘ç°ç›¸åŒçš„æ­£åˆ™å‚æ•°éœ€è¦é‡å¤ç¼–å†™</p><p>å› æ­¤è€ƒè™‘å¤ç”¨</p><ol><li>å¸¸é‡</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> SPACE_REG </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#F78C6C;">g</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŒ¹é…å‡º3ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#A6ACCD;">(SPACE_REG</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str1)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#A6ACCD;">(SPACE_REG</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str2)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#A6ACCD;">(SPACE_REG</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str3)</span></span></code></pre></div><p>å†æŠŠè¿™ä¸ªå‡½æ•°ä¹Ÿå¤ç”¨</p><ol start="2"><li>åŒ…è£…ä¸€ä¸‹è¿™ä¸ªä¼ å…¥å›ºå®šæ­£åˆ™çš„å‡½æ•°</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŒ¹é…å‡º3ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#A6ACCD;">(str1)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#A6ACCD;">(str2)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#A6ACCD;">(str3)</span></span></code></pre></div><p>ä¸Šé¢2ç§æ–¹å¼ï¼Œåªè®ºå¤ç”¨ç¨‹åº¦ï¼Œæ˜¯ç¬¬2ç§åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°çš„å½¢å¼æ›´å¥½</p><p>ä½†æ˜¯è¿™ç§åˆ¶é€ æ–°å‡½æ•°çš„å½¢å¼æ˜¯ç®€å•çš„ï¼Œè¿˜ä¼šæœ‰å…¶ä»–å„ç§æ­£åˆ™åˆ¶é€ æ–°å‡½æ•°</p><p>è€Œåˆ¶é€ æ–°å‡½æ•°çš„é€»è¾‘ä¹Ÿå¯ä»¥æŠ½æˆä¸€ä¸ªçº¯å‡½æ•°ï¼Œé‚£å°±æ˜¯æŸ¯é‡ŒåŒ–å‡½æ•°</p><ol start="3"><li>æŸ¯é‡ŒåŒ–åˆ¶é€ æ–°å‡½æ•°</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// é€šè¿‡æ­£åˆ™åŒ¹é…å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šå­—ç¬¦ï¼Œæ¥å‚æ•°(æ­£åˆ™,ç›®æ ‡å­—ç¬¦)</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">strMatchByReg</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">reg</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">match</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">reg</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mackStrMatchSomething </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curry</span><span style="color:#A6ACCD;">(strMatchByReg)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> strMatchSpace </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackStrMatchSomething</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">\\s</span><span style="color:#89DDFF;">+/</span><span style="color:#F78C6C;">g</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŒ¹é…å‡º3ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç©ºç™½å­—ç¬¦</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#A6ACCD;">(str1)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#A6ACCD;">(str2)</span></span>
<span class="line"><span style="color:#82AAFF;">strMatchSpace</span><span style="color:#A6ACCD;">(str3)</span></span></code></pre></div><p>ç»è¿‡ä¸Šé¢è¿™ä¹ˆå¤šçš„åŒ…è£…ï¼Œåªæ˜¯å®ç°ä¸€ä¸ªç®€å•åŠŸèƒ½ï¼Œå¾ˆå¤šæ—¶å€™åè€Œæ˜¯å¤æ‚åŒ–äº†jsçš„é€»è¾‘(å¦‚æœæŠŠåŒ…è£…è¿‡ç¨‹çš„å‡½æ•°æ”¾åˆ°å¦å¤–çš„æ–‡ä»¶å¤¹ï¼Œè€Œä¸æ˜¯æ”¾åˆ°ä¸€èµ·çš„è¯ï¼Œçœ‹èµ·æ¥å°±ä¼šé¡ºçœ¼å¾ˆå¤šï¼Œå¦‚æœéƒ½æ”¾ä¸€èµ·ï¼Œçœ‹èµ·æ¥å°±åƒä¸ºäº†å°è£…è€Œå°è£…)</p><p>ä½†æ˜¯è¿™äº›ä»£ç ä¼šéå¸¸åŸå­åŒ–å¯å¤ç”¨</p><p>å¦å¤–<code>å°ç»éªŒ</code>æ˜¯ï¼Œç”¨äºé€»è¾‘å¤„ç†çš„å‚æ•°æ”¾å‡½æ•°å‰é¢ï¼Œç›®æ ‡æ“ä½œå¯¹è±¡æ”¾å‚æ•°åé¢</p><p>(ğŸ¤” æ˜¯ä¸æ˜¯ä»¥åå¤šå‚æ•°çš„å‡½æ•°ï¼Œéƒ½æŸ¯é‡ŒåŒ–æˆä¸€ä¸ªå‚æ•°æ¥ä½¿ç”¨ï¼Œç”¨å¯¹è±¡ä¼ å‚åè€Œä¸å¤ªå¥½äº†)</p><h2 id="å‡½æ•°ç»„åˆ" tabindex="-1">å‡½æ•°ç»„åˆ <a class="header-anchor" href="#å‡½æ•°ç»„åˆ" aria-label="Permalink to &quot;å‡½æ•°ç»„åˆ&quot;">â€‹</a></h2><p>ä¸€ç³»åˆ—é€»è¾‘å‡½æ•°ï¼Œåœ¨å¹³æ—¶çš„æ“ä½œæ˜¯ï¼Œè‡ªå·±å†™ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œæ¥è°ƒç”¨å¤šä¸ªå‡½æ•° ğŸ‘‡</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> (params) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  const res1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn1</span><span style="color:#A6ACCD;">(params)</span></span>
<span class="line"><span style="color:#A6ACCD;">  const res2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn2</span><span style="color:#A6ACCD;">(res1)</span></span>
<span class="line"><span style="color:#A6ACCD;">  const res3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn3</span><span style="color:#A6ACCD;">(res2)</span></span>
<span class="line"><span style="color:#A6ACCD;">  return res3</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">(params)</span></span></code></pre></div><p>è¿™ä¸ªå¤„ç†å‡½æ•°åŒæ ·å¯ä»¥ä½œä¸ºå¤ç”¨å‡½æ•°ä½¿ç”¨</p><p>ç”¨å‡½æ•°ç»„åˆï¼Œåˆ™æ˜¯æŠ½ç¦»å¤„ç†å¤šä¸ªå‡½æ•°çš„é€»è¾‘ä¸ºä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸éœ€è¦è‡ªå·±å†™å¤„ç†å‡½æ•°</p><p>æŠŠå¤šä¸ªå‡½æ•°ï¼Œæ‹¼æ¥æˆä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨æ—¶ä¼ å…¥å‚æ•°ï¼Œä¼šç»è¿‡å¤šä¸ªå‡½æ•°</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(fn1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">fn2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">fn3)</span></span>
<span class="line"><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">(params)</span></span></code></pre></div><p>ğŸ‘† å‡½æ•°ç»„åˆï¼Œå…¶å®ç¼–å†™çš„ä»£ç ä¸ŠåŒºåˆ«ä¸å¤§ã€‚ã€‚ã€‚ä½†æ˜¯ç¡®å®çœäº†å¾ˆå¤šè‡ªå·±å†™å¤„ç†å‡½æ•°çš„ç¹ç</p><h3 id="å®ç°ç»„åˆå·¥å…·æ–¹æ³•compose" tabindex="-1">å®ç°ç»„åˆå·¥å…·æ–¹æ³•compose <a class="header-anchor" href="#å®ç°ç»„åˆå·¥å…·æ–¹æ³•compose" aria-label="Permalink to &quot;å®ç°ç»„åˆå·¥å…·æ–¹æ³•compose&quot;">â€‹</a></h3><p>å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬çœŸæ­£çš„æŒ‰ç…§å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´ï¼Œå†™ç€ä¸€ä¸ªä¸€ä¸ªçš„åŸå­å‡½æ•°ï¼Œæƒ³è¦è°ƒç”¨çš„æ—¶å€™å¾€å¾€ä¼šå‡ºç°è¿™æ ·çš„å†™æ³•</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fn1</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">deal</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">info</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">info</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æŠŠinfoæ•°æ®å¤„ç†ä¸€æ¬¡åï¼Œä¼ ç»™fn</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">deal</span><span style="color:#A6ACCD;">(info))</span></span></code></pre></div><p>ğŸ‘† å½“æˆ‘ä»¬æƒ³è¦ä¼˜åŒ–è¿™è¡Œæœ‰ç‚¹ä¸å¥½çœ‹çš„å‡½æ•°è°ƒç”¨æ—¶</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç»„åˆä»»æ„2ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fn2</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn1</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">fn2</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;">))</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/****************/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fn1</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">deal</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">info</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">info</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> deal)</span></span>
<span class="line"><span style="color:#82AAFF;">composeFn</span><span style="color:#A6ACCD;">(info)</span></span></code></pre></div><p>è¿™æ ·å¸¸è§çš„å…ˆè°ƒå¤„ç†å‡½æ•°å†è°ƒå…¶ä»–å‡½æ•°çš„å†™æ³•ï¼Œå°±èƒ½é€šç”¨çš„ä¼˜åŒ–æˆcomposeäº†</p><p>å½“ç„¶æˆ‘ä»¬è¿˜è¦è€ƒè™‘æ›´å¤šçš„å‡½æ•°è¦ç»„åˆçš„æƒ…å†µï¼Œå› æ­¤ä¸èƒ½ç®€å•ç²—æš´çš„å°è£…æˆ <code>fn1(fn2(val))</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç»„åˆå¤šä¸ªå‡½æ•° compose</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">fns</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å€’åºæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reverse</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">lastRes</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">lastRes</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composefn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(fn1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fn2)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">composefn</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am value</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="å‡½æ•°ç»„åˆç¤ºä¾‹" tabindex="-1">å‡½æ•°ç»„åˆç¤ºä¾‹ <a class="header-anchor" href="#å‡½æ•°ç»„åˆç¤ºä¾‹" aria-label="Permalink to &quot;å‡½æ•°ç»„åˆç¤ºä¾‹&quot;">â€‹</a></h3><p>æœ‰è¶£çš„æ˜¯jsåŸç”Ÿæä¾›çš„å¾ˆå¤šå‡½æ•°ï¼Œå¹¶ä¸èƒ½ç›´æ¥çš„ç”¨æ¥åšå‡½æ•°ç»„åˆï¼Œå¦‚å„ç§æ•°ç»„ã€å­—ç¬¦ä¸²å‡½æ•°: <code>åè½¬æ•°ç»„reverse</code>ã€<code>å­—ç¬¦ä¸²å¤§å†™toUpperCase</code></p><p>å› ä¸ºå‡½æ•°ç»„åˆçš„ç›®æ ‡å‡½æ•°ï¼Œéœ€è¦æ¥æ”¶å‚æ•°ï¼Œè€ŒåŸç”Ÿå‡½æ•°æ˜¯åŸå‹é“¾ç›´æ¥å–å‚æ•°</p><p>å¦‚ä¸‹åè½¬æ•°ç»„åå–ç¬¬ä¸€é¡¹å¤§å†™å­—ç¬¦ä¸²</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">firstItem</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å¹¶ä¸èƒ½æŒ‰é¢„æœŸçš„ç›´æ¥ç»„åˆèµ·æ¥ç”¨</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toUpperCase</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> firstItem</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">reverse)</span></span>
<span class="line"><span style="color:#82AAFF;">composeFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">])</span></span></code></pre></div><p>ğŸ‘‡ è€Œéœ€è¦å¯¹åŸç”Ÿå‡½æ•°æ‰‹åŠ¨å°è£…ä¸€æ¬¡è°ƒç”¨å½¢å¼(å†…éƒ¨è¿˜æ˜¯ä½¿ç”¨åŸç”Ÿå‡½æ•°)</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">firstItem</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reverse</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reverse</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(toUpperCase</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> firstItem</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> reverse)</span></span>
<span class="line"><span style="color:#82AAFF;">composeFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// ==&gt; &#39;C&#39;</span></span></code></pre></div><p>è€Œè¿™ä¹Ÿæ­£æ˜¯ <code>lodash</code> å†…éƒ¨æä¾›å’ŒåŸç”Ÿå‡½æ•°é‡å¤çš„å„ç§å‡½æ•°çš„åŸå› </p><h3 id="ç®¡é“è¯­æ³•" tabindex="-1">ç®¡é“è¯­æ³• <a class="header-anchor" href="#ç®¡é“è¯­æ³•" aria-label="Permalink to &quot;ç®¡é“è¯­æ³•&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> fn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(fn1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">fn2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">fn3)</span></span></code></pre></div><p>ğŸ‘† è¿™ç§è¯­æ³•åŒæ ·è¢«äººè§‰å¾—ä¸ç›´è§‚ä¸ç¾è§‚ï¼Œè€Œå‡½æ•°ç»„åˆæ¦‚å¿µé‡Œçš„å°†ç»“æœä¸€è·¯ä¼ é€’åˆ°æœ€åçš„ç¤ºæ„å›¾å¾€å¾€æ˜¯ç®¡é“</p><p>å› æ­¤ä¼šæœ‰é€šè¿‡ç¼–è¯‘åŸç†æŠŠå‡½æ•°ç»„åˆçš„è¯­æ³•ï¼Œç¾åŒ–æˆç®¡é“è¯­æ³•çš„åšæ³•ï¼Œå¦‚vue2çš„è¿‡æ»¤å™¨è¯­æ³•</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">info</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}}</span></span></code></pre></div><blockquote><p>å…³äºç®¡é“å‡½æ•°æˆ‘ä»¬åœ¨<a href="./../../02-æ¡†æ¶/vue/é‡å­¦vue-05filterå¤šä½™å—.html">vueçš„è¿‡æ»¤å™¨</a>ä¸­è®²åˆ°è¿‡</p></blockquote><blockquote><p>æ³¨æ„: âš ï¸ ç¡®å®æŠŠå‡½æ•°åŸå­åŒ–ï¼Œç»„åˆèµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ç›¸å¯¹äºè‡ªå·±å†™å¤„ç†å‡½æ•°æ—¶å¯ä»¥å†™æ¯ä¸ªæ­¥éª¤çš„æ³¨é‡Šï¼Œç»„åˆå‡½æ•°æ²¡åŠæ³•ç»™æ¯ä¸ªæ­¥éª¤å†™æ³¨é‡Š</p><p>æ‰€ä»¥è¦ç»™åŸå­å‡½æ•°ä»¥åŠç»„åˆåçš„å‡½æ•°å‘½åå¥½</p></blockquote><h2 id="æŸ¯é‡ŒåŒ–-å‡½æ•°ç»„åˆç¤ºä¾‹" tabindex="-1">æŸ¯é‡ŒåŒ–+å‡½æ•°ç»„åˆç¤ºä¾‹ <a class="header-anchor" href="#æŸ¯é‡ŒåŒ–-å‡½æ•°ç»„åˆç¤ºä¾‹" aria-label="Permalink to &quot;æŸ¯é‡ŒåŒ–+å‡½æ•°ç»„åˆç¤ºä¾‹&quot;">â€‹</a></h2><p>å‡½æ•°ç»„åˆçš„ç›®æ ‡å‡½æ•°åªèƒ½æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè€Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦ç»„åˆçš„å‡½æ•°æœ‰å¤šä¸ªå‡½æ•°</p><p>æ¯”å¦‚ æŠŠ<code>never say die</code> è½¬åŒ–ä¸º <code>NEVER-SAY-DIE</code> æ­¥éª¤</p><ol><li>å¤§å†™å­—ç¬¦ä¸²</li><li>ä»¥ç©ºæ ¼åˆ†å‰²å­—ç¬¦ä¸²æˆæ•°ç»„</li><li>ä»¥<code>-</code>æ‹¼æ¥æ•°ç»„</li></ol><p>(2ã€3æ­¥å¯ä»¥ç›´æ¥æ›¿æ¢ç©ºæ ¼ä¸º<code>-</code>ï¼Œè¿™é‡Œä¸ºäº†ä½¿ç”¨å‡½æ•°ç»„åˆï¼Œè€Œæ•…æ„å¤šåšä¸€æ­¥)</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> split(str) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> join(arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> spaceToLineAndToUpperCase </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(join</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> split</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> toUpperCase)</span></span>
<span class="line"><span style="color:#82AAFF;">spaceToLineAndToUpperCase</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">never say die</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// ==&gt; &#39;NEVER-SAY-DIE&#39;</span></span></code></pre></div><p>ğŸ‘† æˆ‘ä»¬ä¼šå‘ç°ï¼Œåˆ†å‰²å­—ç¬¦ä¸²çš„å‡½æ•°é™¤äº†è¦æ¥æ”¶ç›®æ ‡å€¼ï¼Œè¿˜è¦æ¥å—åˆ†å‰²ç¬¦ï¼Œæ‹¼æ¥æ•°ç»„åŒç†</p><p>è€Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ› <code>split</code> <code>join</code> è¿™æ ·æœ¬å¯ä»¥å¤ç”¨çš„åŸå­å‡½æ•°ï¼Œè¢«å†™æ­»å‚æ•°</p><p>é‚£ä¹ˆæˆ‘ä»¬çš„åŸå­å‡½æ•°å°±è¦æ˜¯ğŸ‘‡</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> split(str</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sep) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#A6ACCD;">(sep)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> join(arr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> sep) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(sep)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥åæ˜ è¿‡æ¥ç”¨ä¸€ä¸ªé«˜é˜¶å‡½æ•°ä¸€æ¬¡æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå¦‚å…ˆæ¥æ”¶åˆ†å‰²ç¬¦ï¼Œå½¢æˆæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°ç”¨äºç»„åˆæ—¶åªå…³æ³¨ç›®æ ‡æ•°æ®å³å¯</p><p>è€Œè¿™ä¹Ÿæ­£æ˜¯æŸ¯é‡ŒåŒ–å‡½æ•°çš„æ¦‚å¿µï¼ŒæŠŠéœ€è¦ä¸€æ¬¡æ€§ä¼ é€’å‚æ•° <code>fn(1, 2)</code> å˜ä¸º <code>fn(1)(2) </code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ³¨æ„: ä¸ºäº†æœ€ç»ˆç»„åˆçš„å‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯ç›®æ ‡æ•°æ®ï¼Œè¦æŠŠæŸ¯é‡ŒåŒ–å‡½æ•°çš„å‚æ•°é¡ºåºæ”¾å¯¹ï¼Œæœ€åæ¥æ”¶ç›®æ ‡æ•°æ®</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> split(sep</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#A6ACCD;">(sep)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> join(sep</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(sep)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mackSplit </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curry</span><span style="color:#A6ACCD;">(split)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mackJoin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curry</span><span style="color:#A6ACCD;">(join)</span></span></code></pre></div><p>ğŸ‘‡ å‡½æ•°ç»„åˆ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> split(sep</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> str) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#A6ACCD;">(sep)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> join(sep</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> arr) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#A6ACCD;">(sep)</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mackSplit </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curry</span><span style="color:#A6ACCD;">(split)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mackJoin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">curry</span><span style="color:#A6ACCD;">(join)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> splitSpace </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackSplit</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> joinLine </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackJoin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> spaceToLineAndToUpperCase </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(joinLine</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> splitSpace</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> toUpperCase)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// or</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// const spaceToLineAndToUpperCase = compose(mackJoin(&#39;-&#39;), mackSplit(&#39; &#39;), toUpperCase)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">spaceToLineAndToUpperCase</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">never say die</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;font-style:italic;">// ==&gt; &#39;NEVER-SAY-DIE&#39;</span></span></code></pre></div><p><a href="https://www.ruanyifeng.com/blog/2017/03/pointfree.html" target="_blank" rel="noreferrer">Pointfree ç¼–ç¨‹é£æ ¼æŒ‡å—-é˜®ä¸€å³°</a></p><h2 id="å‡½å­" tabindex="-1">å‡½å­ <a class="header-anchor" href="#å‡½å­" aria-label="Permalink to &quot;å‡½å­&quot;">â€‹</a></h2><ul><li><a href="https://segmentfault.com/a/1190000037742962" target="_blank" rel="noreferrer">å‡½æ•°å¼ç¼–ç¨‹è¿›é˜¶ï¼šåº”ç”¨å‡½å­</a></li><li><a href="https://tech.meituan.com/2022/10/13/dive-into-functional-programming-01.html" target="_blank" rel="noreferrer">æ·±å…¥ç†è§£å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸Šï¼‰</a></li><li><a href="https://tech.meituan.com/2022/10/13/dive-into-functional-programming-02.html" target="_blank" rel="noreferrer">æ·±å…¥ç†è§£å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‹ï¼‰</a></li><li><a href="http://www.reactl.com/67.html" target="_blank" rel="noreferrer">æ—¥å¸¸javascriptçš„å‡½æ•°å¼ç¼–ç¨‹ï¼šç»„åˆæŠ€æœ¯</a></li><li><a href="https://juejin.cn/post/6844903924172865543" target="_blank" rel="noreferrer">Typescriptç‰ˆå›¾è§£Functor , Applicative å’Œ Monad</a></li><li><a href="https://segmentfault.com/a/1190000004604628" target="_blank" rel="noreferrer">- [è¯‘]å‡½æ•°å¼JavaScriptä¹‹Functors</a></li><li><a href="https://www.jianshu.com/p/cf28f2e5a905" target="_blank" rel="noreferrer">ä»€ä¹ˆæ˜¯ Monad (Functional Programming)ï¼Ÿ</a></li><li><a href="https://juejin.cn/post/6845166890487136263#heading-3" target="_blank" rel="noreferrer">æ‹‰å‹¾æ•™è‚²-é«˜é˜¶å‡½æ•°å‡½å­éƒ¨åˆ†ç¬”è®°</a></li><li><a href="https://xie.infoq.cn/article/6bf4f9874a1cc0bc31d74996c" target="_blank" rel="noreferrer">ä»çº¯å‡½æ•°è®²èµ·ï¼Œä¸€çª¥æœ€æ·±åˆ»çš„å‡½å­ Monad</a></li><li><a href="https://www.jianshu.com/p/8808de8eaffc" target="_blank" rel="noreferrer">ã€ŠThe Joy of Javascriptã€‹é˜…è¯»ç¬”è®°2 - Functor/Monad</a></li></ul><hr><blockquote><p>å¾ˆå¤šæ–‡ç« æ•™ç¨‹ï¼Œä¸Šæ¥å°±ä»‹ç»å‡½å­çš„æ¦‚å¿µå’ŒåŸç†ç­‰ï¼Œå¯¹ä½¿ç”¨åœºæ™¯å’Œä¼˜ç‚¹æ²¡æœ‰è¯¦ç»†ä»‹ç»</p></blockquote><p>å§‹ç»ˆæ„Ÿè§‰å‡½å­çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯å’ŒæŸ¯é‡ŒåŒ–å‡½æ•°ç»„åˆé‡å¤äº†ï¼Œåªæ˜¯å†™æ³•ä¸Šçš„ä¸åŒï¼Ÿå› æ­¤è¿™é‡Œå…ˆå­¦ä¹ æ¦‚å¿µå’ŒåŸç†ï¼Œå¹¶è®°å½•ä¸‹æ€è€ƒï¼Œå¾…ä»¥åç†è§£äº†å‡½å­çš„ä½¿ç”¨åœºæ™¯åè¡¥å……ç¬”è®°</p><h3 id="å‡½å­ä¸å‡½æ•°ç»„åˆçš„å†™æ³•å¯¹æ¯”" tabindex="-1">å‡½å­ä¸å‡½æ•°ç»„åˆçš„å†™æ³•å¯¹æ¯” <a class="header-anchor" href="#å‡½å­ä¸å‡½æ•°ç»„åˆçš„å†™æ³•å¯¹æ¯”" aria-label="Permalink to &quot;å‡½å­ä¸å‡½æ•°ç»„åˆçš„å†™æ³•å¯¹æ¯”&quot;">â€‹</a></h3><p>å‡½å­</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/** å¯ä¼˜åŒ–ä¸ºç®­å¤´å‡½æ•°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">function Functor(val) {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  return {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // ç”¨thenä¼šå’ŒåŸç”Ÿpromiseå†²çª</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    next: function next(fn){</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">      const res = fn(val)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">      return Functor(res)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    },</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    resolve: function resolve() {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">      return val</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Functor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ç”¨thenä¼šå’ŒåŸç”Ÿpromiseå†²çª TODO: ã€Šä½ ä¸çŸ¥é“çš„jsä¸­ã€‹</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// é“¾å¼å¤„ç†ä¸€æ¬¡æ•°æ®å­˜å‚¨ç»“æœç»™ä¸‹ä¸€ä¸ªå‡½å­ä½¿ç”¨</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;">) </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Functor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">resolve</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">firstItem</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reverse</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reverse</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">composeFn</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Functor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">reverse</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">firstItem</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">toUpperCase</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">composeFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// ==&gt; &#39;C&#39;</span></span></code></pre></div><p>å¯¹æ¯”ä¸€ä¸‹å‡½æ•°ç»„åˆ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> toUpperCase </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> firstItem </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> arr[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> reverse </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reverse</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(toUpperCase</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> firstItem</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> reverse)</span></span>
<span class="line"><span style="color:#82AAFF;">composeFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// ==&gt; &#39;C&#39;</span></span></code></pre></div><p>ğŸ‘‡ å‡½å­çš„å†™æ³•å…¶å®åªæ˜¯ä¸ºäº†è®©å‡½æ•°ç»„åˆæ›´å¥½çœ‹ï¼Œæ›´å¥½ç†è§£ä¸€ä¸ªç»„åˆçš„æ­¥éª¤å§</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å‡½å­å½¢å¼ç»„åˆå‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">Functor</span><span style="color:#A6ACCD;">(val)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(reverse)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(firstItem)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(toUpperCase)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°ç»„åˆå½¢å¼</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  toUpperCase</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  firstItem</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  reverse</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><hr><p>çœ‹ä¸Šå»è¿™å°±æ˜¯å‡½å­ç¢¾å‹å‡½æ•°ç»„åˆçš„åœ°æ–¹ã€‚ å¹¶ä¸ï¼ å®é™…ä¸Šå¦‚promiseæ”¯æŒé“¾å¼è°ƒç”¨ï¼Œä¹Ÿä¸æ˜¯ç‰¹åˆ«å¥½çœ‹ï¼Œæ¯•ç«Ÿè¦ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“åŸå­å›è°ƒå‡½æ•°å¤æ‚æ—¶ï¼Œé“¾èµ·æ¥ä¾ç„¶ä¸‘ï¼Œä¹Ÿæ­£å› ä¸ºè¿™æ ·æ‰ä¼šæœ‰async awaitæŠŠé“¾å¼æ‹æ‰</p><hr><h3 id="åŠŸèƒ½æ€§å‡½å­" tabindex="-1">åŠŸèƒ½æ€§å‡½å­ <a class="header-anchor" href="#åŠŸèƒ½æ€§å‡½å­" aria-label="Permalink to &quot;åŠŸèƒ½æ€§å‡½å­&quot;">â€‹</a></h3><p>æ™®é€šå‡½å­å°±æ˜¯ä¸Šé¢çš„æ”¯æŒé“¾å¼ç»„åˆ(é“¾å¼è°ƒç”¨+å‚æ•°ä¼ é€’)çš„å‡½æ•°</p><p>ä»è¿™ä¸ªç›’å­çš„ç»“æ„ä¸Šçœ‹ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥æ‹“å±•å¾ˆå¤šæˆ‘ä»¬éœ€è¦çš„é€»è¾‘çš„</p><h4 id="æƒ°æ€§æ‰§è¡Œå‡½å­" tabindex="-1">æƒ°æ€§æ‰§è¡Œå‡½å­ <a class="header-anchor" href="#æƒ°æ€§æ‰§è¡Œå‡½å­" aria-label="Permalink to &quot;æƒ°æ€§æ‰§è¡Œå‡½å­&quot;">â€‹</a></h4><p>å‡½å­é€šè¿‡å»¶è¿Ÿæ‰§è¡Œã€æ”¶é›†å¼‚å¸¸å¤„ç†æ¥å®ç°æ¶ˆé™¤å‰¯ä½œç”¨çš„ä¼˜ç‚¹ï¼Œå‡½æ•°ç»„åˆä¹Ÿéƒ½èƒ½åšåˆ°çš„å§</p><p>å¦‚ä¸‹è°ƒç”¨æ™®é€šå‡½å­æ—¶çš„æ‰§è¡Œ</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å‡½å­å½¢å¼ç»„åˆå‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">Functor</span><span style="color:#A6ACCD;">(val)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(reverse) </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡Œå›è°ƒreverseå¾—åˆ°ç»“æœå¹¶å­˜å‚¨</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(firstItem) </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡Œå›è°ƒfirstItemå¾—åˆ°ç»“æœå¹¶å­˜å‚¨</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(toUpperCase) </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡Œå›è°ƒtoUpperCaseå¾—åˆ°ç»“æœå¹¶å­˜å‚¨</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span></code></pre></div><p>æˆ‘ä»¬å¸Œæœ›è°ƒç”¨ composeFn æ—¶å…ˆä¸æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå‡½å­</p><p>ğŸ‘‡ æƒ°æ€§å‡½å­</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç»„åˆå¤šä¸ªå‡½æ•° compose</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">fns</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å€’åºæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fns</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reverse</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">lastRes</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">lastRes</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æƒ°æ€§å‡½å­ï¼Œè°ƒç”¨nexté“¾å¼æ—¶åªæ˜¯ç»„åˆå‡½æ•°ä¸ä¼šçœŸæ­£è°ƒç”¨</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> LazyFunctor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">LazyFunctor</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">compose</span><span style="color:#A6ACCD;">(fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> val))</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> val</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mackLazyFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">LazyFunctor</span><span style="color:#A6ACCD;">( </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> val ) </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºå‡½å­æ—¶çš„å‚æ•°è¦åŒ…æˆå‡½æ•°</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(reverse)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(firstItem)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(toUpperCase)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> lazyFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackLazyFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œä¼ é€’äº†å‚æ•°å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#A6ACCD;">lazyFn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// è°ƒç”¨è¿™ä¸ªæ‰ä¼šæ‰§è¡Œï¼Œç¬¦åˆæ— å‚æ•°é£æ ¼ç¼–ç¨‹</span></span></code></pre></div><p>ğŸ‘‡ æƒ°æ€§é«˜é˜¶å‡½æ•°</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * å‡½æ•°å¼å®ç°æƒ°æ€§æ‰§è¡Œçš„å·¥å…·å‡½æ•°, ä¼ å…¥ä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªè°ƒç”¨ä¹Ÿä¸ä¼šç«‹å³æ‰§è¡Œçš„å‡½æ•°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *    const lazyFn = mackLazyFn(callBack)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *    const runFn = lazyFn(params)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *    const res = runFn()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * æœ¬è´¨å°±æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°(ç”¨å‡½æ•°åŒ…å¤šäº†ä¸€å±‚)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackLazyFn</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">arguments</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> composeFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">Functor</span><span style="color:#A6ACCD;">(val)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(reverse)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(firstItem)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(toUpperCase)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> lazyFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackLazyFn</span><span style="color:#A6ACCD;">(composeFn)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> runFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">lazyFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œä¼ é€’äº†å‚æ•°å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">runFn</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// è°ƒç”¨è¿™ä¸ªæ‰ä¼šæ‰§è¡Œï¼Œç¬¦åˆæ— å‚æ•°é£æ ¼ç¼–ç¨‹</span></span></code></pre></div><p>ğŸ‘‡ å‡½å­ä¸è‡ªå®ç°çš„lazyå‡½æ•°å¯¹æ¯”</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> lazyFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackLazyFn</span><span style="color:#A6ACCD;">(composeFn)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> runFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">lazyFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œä¼ é€’äº†å‚æ•°å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">runFn</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// è°ƒç”¨è¿™ä¸ªæ‰ä¼šæ‰§è¡Œï¼Œç¬¦åˆæ— å‚æ•°é£æ ¼ç¼–ç¨‹</span></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> lazyFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mackLazyFn</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œä¼ é€’äº†å‚æ•°å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#A6ACCD;">lazyFn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// è°ƒç”¨è¿™ä¸ªæ‰ä¼šæ‰§è¡Œï¼Œç¬¦åˆæ— å‚æ•°é£æ ¼ç¼–ç¨‹</span></span></code></pre></div><h4 id="å‚æ•°å¼‚å¸¸å‡½å­" tabindex="-1">å‚æ•°å¼‚å¸¸å‡½å­ <a class="header-anchor" href="#å‚æ•°å¼‚å¸¸å‡½å­" aria-label="Permalink to &quot;å‚æ•°å¼‚å¸¸å‡½å­&quot;">â€‹</a></h4><p>null maybe</p><h4 id="æ¡ä»¶å‡½å­" tabindex="-1">æ¡ä»¶å‡½å­ <a class="header-anchor" href="#æ¡ä»¶å‡½å­" aria-label="Permalink to &quot;æ¡ä»¶å‡½å­&quot;">â€‹</a></h4><blockquote><p>æœ‰ä¸€ç§è¯´æ³•æ˜¯æ¡ä»¶å’Œå¾ªç¯è¯­å¥éƒ½ä¼šå¸¦æ¥å‰¯ä½œç”¨ï¼Ÿéƒ½ä¸ä¼˜é›…ï¼Ÿéƒ½ä¸å¥½å¤ç”¨ï¼Ÿ å› æ­¤æŠŠæ¡ä»¶è¯­å¥å°åˆ°ç›’å­é‡Œï¼Œä¸è®©äººçœ‹åˆ°ã€‚ã€‚ã€‚</p></blockquote><p>trycatch</p><ul><li>è¿åäº†[å¼•ç”¨é€æ˜](åŸåˆ™ï¼Œå› ä¸ºæŠ›å‡ºå¼‚å¸¸ä¼šå¯¼è‡´å‡½æ•°è°ƒç”¨å‡ºç°å¦ä¸€ä¸ªå‡ºå£ï¼Œæ‰€ä»¥ä¸èƒ½ç¡®ä¿å•ä¸€çš„å¯é¢„æµ‹çš„è¿”å›å€¼ã€‚</li><li>ä¼šå¼•èµ·[å‰¯ä½œç”¨](ï¼Œå› ä¸ºå¼‚å¸¸ä¼šåœ¨å‡½æ•°è°ƒç”¨ä¹‹å¤–å¯¹å †æ ˆå¼•å‘ä¸å¯é¢„æ–™çš„å½±å“ã€‚</li><li>è¿å[å±€åŸŸæ€§çš„åŸåˆ™](ï¼Œå› ä¸ºç”¨äºæ¢å¤å¼‚å¸¸çš„ä»£ç å’ŒåŸå§‹çš„å‡½æ•°è°ƒç”¨æ¸è¡Œæ¸è¿œï¼Œå½“å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œå‡½æ•°ä¼šç¦»å¼€å±€éƒ¨æ ˆå’Œç¯å¢ƒã€‚</li><li>ä¸èƒ½åªå…³å¿ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œè°ƒç”¨è€…éœ€è¦è´Ÿè´£å£°æ˜ catch å—ä¸­çš„å¼‚å¸¸åŒ¹é…ç±»å‹æ¥ç®¡ç†ç‰¹å®šçš„å¼‚å¸¸;éš¾ä»¥ä¸å…¶ä»–å‡½æ•°ç»„åˆæˆ–é“¾æ¥ï¼Œæ€»ä¸èƒ½è®©ç®¡é“ä¸­çš„ä¸‹ä¸€ä¸ªå‡½æ•°å¤„ç†ä¸Šä¸€ä¸ªå‡½æ•°æŠ›å‡ºçš„é”™è¯¯å§ã€‚</li><li>å½“æœ‰å¤šä¸ªå¼‚å¸¸æ¡ä»¶çš„æ—¶å€™ä¼šå‡ºç°[åµŒå¥—çš„å¼‚å¸¸å¤„ç†å—](ã€‚-å¼‚å¸¸åº”è¯¥ç”±ä¸€ä¸ªåœ°æ–¹æŠ›å‡ºï¼Œè€Œä¸æ˜¯éšå¤„å¯è§ã€‚</li></ul><p>ğŸ‘‡ try catch</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">successFn</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰§è¡ŒæˆåŠŸ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doErrorThing</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰§è¡Œå¤±è´¥</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŸtry catch</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tryCatchFn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">successFn</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">doErrorThing</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">tryCatchFn</span><span style="color:#A6ACCD;">()</span></span></code></pre></div><p>ğŸ‘‡ TryFunctor/CatchFunctor</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åˆ›å»º2ä¸ªæ™®é€šå‡½å­</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> TryFunctor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// tryå‡½å­çš„nextä¼šç»„åˆå¹¶æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TryFunctor</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">(val))</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// runæ¥æ”¶2ä¸ªå›è°ƒå‡½æ•°ï¼Œåªæ‰§è¡Œç¬¬ä¸€ä¸ª</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">errCallBack</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">successCallBack</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">successCallBack</span><span style="color:#A6ACCD;">(val)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> CatchFunctor </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// catchå‡½å­çš„nextä»…æä¾›é“¾å¼å¹¶ä¸å–nexté‡Œçš„å‡½æ•°</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">next</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CatchFunctor</span><span style="color:#A6ACCD;">(val)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// runæ¥æ”¶2ä¸ªå›è°ƒå‡½æ•°ï¼Œåªæ‰§è¡Œç¬¬äºŒä¸ª</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">errCallBack</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">successCallBack</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">errCallBack</span><span style="color:#A6ACCD;">(val)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// trycatch å‡½å­</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TryCatchFunctor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TryFunctor</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">())</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">CatchFunctor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">TryCatchFunctor</span><span style="color:#A6ACCD;">( </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;name&quot;:&quot;a&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) )</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">(doErrorThing</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> successFn)</span></span></code></pre></div><p>ğŸ‘† å¯ä»¥çœ‹å‡ºtrycatchå‡½å­ï¼Œä¾ç„¶ä½¿ç”¨ç€trycatchï¼Œä½†æ˜¯å·§å¦™çš„ç»“åˆå‡½å­çš„ç»“æ„è½¬åŒ–ä¸ºäº†é“¾å¼å¤„ç†æœ¬æ¥åˆ†ç¦»çš„ä»£ç å—(tryä»£ç å—ã€catchä»£ç å—)</p><p>åªæ˜¯ç”¨tryæ‰§è¡Œä¸€ä¸ªå‡½å­ã€catchæ‰§è¡Œå¦ä¸€ä¸ªå‡½å­ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½å‡½å­ï¼Œåœ¨æ™®é€šå‡½å­çš„åŸºç¡€ä¸Š</p><ul><li>æ”¹é€ äº†catchå‡½å­çš„nextå‡½æ•°ä»…æ”¯æŒé“¾å¼è°ƒç”¨ä¸å¤„ç†nexté‡Œçš„å‚æ•°</li><li>æ”¹é€ äº†2ä¸ªå‡½å­çš„runå‡½æ•°ï¼Œæ¥æ”¶æˆåŠŸå’Œå¤±è´¥2ä¸ªå›è°ƒå‡½æ•°ï¼Œå¹¶åˆ†åˆ«æ‰§è¡Œå¯¹åº”çš„å›è°ƒå‡½æ•°</li></ul><p>ä½¿ç”¨ä¸Šï¼Œä¼šå‘ç°éå¸¸åƒpromise</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">TryCatchFunctor</span><span style="color:#A6ACCD;">( è¦å…œåº•çš„ä»£ç å— )</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">( æˆåŠŸæƒ…å†µä¸‹çš„æ‰§è¡Œå‡½æ•° )</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">( å¤±è´¥æƒ…å†µä¸‹çš„æ‰§è¡Œå‡½æ•°</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> æˆåŠŸå¹¶é“¾å¼å¤„ç†åçš„æ‰§è¡Œå‡½æ•°)</span></span></code></pre></div><p>ä½†æ˜¯ï¼</p><p>æ—¢ç„¶æˆ‘ä»¬ç†è§£äº†trycatchå‡½å­çš„æœ¬è´¨è¿˜æ˜¯trycatchï¼Œé‚£ç”¨å‡½æ•°ç»„åˆä¸æ˜¯ä¹Ÿèƒ½å®ç°å—ï¼Ÿ ğŸ‘‡ å‡½æ•°ç»„åˆå½¢å¼å¤„ç†trycatch</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tryCatchCompose</span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">fns</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">errCallback</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">successCall</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">composeFn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">compose</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">fns</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">composeFn</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">successCall</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">errCallback</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> tryCatchDoSomething </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tryCatchCompose</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">tryCatchDoSomething</span><span style="color:#A6ACCD;">(doErrorThing</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> successFn)</span></span></code></pre></div><p>æœ€åå†æ¥æ¯”è¾ƒä¸€ä¸‹</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åŸtry catch</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tryCatchFn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">successFn</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">doErrorThing</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#82AAFF;">tryCatchFn</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½å­å½¢å¼</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tryCatchFn</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TryCatchFunctor</span><span style="color:#F07178;">( </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">) )</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">tryCatchFn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">(doErrorThing</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> successFn)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°ç»„åˆå½¢å¼</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> tryCatchFn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">tryCatchCompose</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#82AAFF;">tryCatchFn</span><span style="color:#A6ACCD;">(doErrorThing</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> successFn)</span></span></code></pre></div><p>è¿™æ˜¯æ¯”è¾ƒ pure çš„å¤„ç†é”™è¯¯çš„æ–¹å¼</p><p>åŒç† ifelseå‡½å­ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ç”¨äº†ifelseï¼Œåªæ˜¯ä¸æ”¾åˆ°å¤–é¢ä½¿ç”¨ç½¢äº†</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ¥ç€ç”¨ä¸Šé¢çš„trycatchä¾‹å­ï¼Œæ ¹æ®è¿”å›å€¼æ˜¯å¦ä¸ºnullåšåç»­æ“ä½œ</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">TryCatchFunctor</span><span style="color:#A6ACCD;">( </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">doSomeThing</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;name&quot;:&quot;a&quot;}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) )</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">(doErrorThing</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> successFn)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// trycatch å‡½å­</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">IfNullFunctor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">val</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TryFunctor</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">catchFunctor</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// énullæ—¶ï¼Œæ‰§è¡Œé“¾å¼çš„ä¸€äº›å¤„ç†å‡½æ•°ï¼Œnullæ—¶è¿›å…¥nullçš„å›è°ƒ</span></span>
<span class="line"><span style="color:#82AAFF;">IfNullFunctor</span><span style="color:#A6ACCD;">(res)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">next</span><span style="color:#A6ACCD;">( </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">énullæ—¶é“¾å¼æ‰§è¡Œ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">is null</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">not null</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> )</span></span></code></pre></div><p>ğŸ‘† è¿™é‡Œçš„ifelseä¾ç„¶ç”¨åˆ°äº†tryå‡½å­å’Œcatchå‡½å­ï¼Œä½œä¸ºifå‡½å­å’Œelseå‡½å­ å› æ­¤tryå‡½å­å’Œcatchå‡½å­ï¼Œæ›´å¸¸è¢«å«åšleftå‡½å­å’Œrightå‡½å­ï¼Œå¯¹åº”runæ—¶æ‰§è¡Œç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°å’Œç¬¬äºŒä¸ªå›è°ƒå‡½æ•°</p><hr><p>ğŸ¤”æ€è€ƒ: ä½†æ˜¯ifelseçš„ä¾‹å­é‡Œï¼Œåªå…è®¸ifæ¡ä»¶çš„é“¾å¼æ“ä½œã€‚å¦‚æœelseé‡Œä¹Ÿéœ€è¦æ‹¿åˆ°resæ¥åšé“¾å¼æ“ä½œæ€ä¹ˆåŠï¼Ÿ</p><p>é“¾å¼çš„åµŒå¥—åœ°ç‹±å¼Šç«¯å°±ä¼šå‡ºç°ï¼Ÿ(å½“ç„¶ï¼Œå¯ä»¥é€šè¿‡åŒ…ä¸€å±‚è®©åµŒå¥—ä¸å‘ç”Ÿï¼Ÿ)</p><hr><hr><p>ğŸ¤”æ€è€ƒ: ä¸ºä»€ä¹ˆè¦å¹²æ‰ifelse</p><hr><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¾ç„¶æ˜¯é™¤äº†é“¾å¼å¤„ç†å†™æ³•ç»„åˆé¡ºåºæ›´ç›´è§‚ä¹‹å¤–ï¼Œå‡½å­å¹¶æ²¡æœ‰æ‹‰å¼€å‡½æ•°ç»„åˆçš„ä¼˜åŠ¿ ğŸ˜¤</p><h4 id="ioå‡½å­" tabindex="-1">IOå‡½å­ <a class="header-anchor" href="#ioå‡½å­" aria-label="Permalink to &quot;IOå‡½å­&quot;">â€‹</a></h4><h4 id="æŒ‰éœ€ç»„åˆä¸åŒåŠŸèƒ½å‡½å­" tabindex="-1">æŒ‰éœ€ç»„åˆä¸åŒåŠŸèƒ½å‡½å­ <a class="header-anchor" href="#æŒ‰éœ€ç»„åˆä¸åŒåŠŸèƒ½å‡½å­" aria-label="Permalink to &quot;æŒ‰éœ€ç»„åˆä¸åŒåŠŸèƒ½å‡½å­&quot;">â€‹</a></h4><hr><p>çºµè§‚æ•´ä¸ªå‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒå°±åœ¨äºæŠŠä¸€ä¸ªä¸ªçš„å°å‡½æ•°ç»„åˆæˆæ›´é«˜çº§çš„å‡½æ•°ã€‚ ä¸¾ä¸ªå‡½æ•°ç»„åˆçš„ä¾‹å­ï¼šå¦‚æœæƒ³ç»™ä»»ä½• Functor åº”ç”¨ä¸€ä¸ªç»Ÿä¸€çš„ map ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿç­”æ¡ˆæ˜¯ Partial Applicationï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> partial </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">presetArgs</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">laterArgs</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">fn</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">presetArgs</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">laterArgs)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> double </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">n</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> n </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> map </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">F</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> F</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(fn)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mapDouble </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">partial</span><span style="color:#A6ACCD;">(map</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> double)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">mapDouble</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">Box</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fold</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> x)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res)  </span><span style="color:#676E95;font-style:italic;">// =&gt; 2</span></span></code></pre></div><p>ğŸ‘† å…³é”®åœ¨äº mapDouble å‡½æ•°è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªç­‰å¾…æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•° F (Box(1)) çš„å‡½æ•°; ä¸€æ—¦æ”¶åˆ°ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¼šç›´æ¥æ‰§è¡Œ F.map(fn) ï¼Œç›¸å½“äº Box(1).map(double) ,è¯¥è¡¨è¾¾å¼è¿”å›çš„ç»“æœä¸º Box(2) ,æ‰€ä»¥åé¢å¯ä»¥ç»§ç»­ .foldç­‰ç­‰é“¾å¼æ“ä½œã€‚</p><p>ğŸ¤”ï¸ è¿™ä¸ªä¾‹å­å“ªé‡Œå°±è¯æ˜äº†æˆ‘ä»¬æ¯”å‡½æ•°ç»„åˆæ›´éœ€è¦å‡½å­ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><hr><p>å‰¯ä½œç”¨å…·è±¡èµ·æ¥ï¼Œåˆ°åº•æ˜¯æŒ‡ï¼Ÿ å¦‚æœä¸€ä¸ªå‡½æ•°æˆ–è€…è¡¨è¾¾å¼é™¤äº†è¿”å›ä¸€ä¸ªå€¼ä¹‹å¤–ï¼Œè¿˜ä¸å¤–éƒ¨å¯å˜çŠ¶æ€è¿›è¡Œäº†äº¤äº’ï¼ˆè¯»å–æˆ–å†™å…¥ï¼‰ï¼Œåˆ™å®ƒæ˜¯æœ‰å‰¯ä½œç”¨çš„ã€‚</p><ul><li><code>const differentEveryTime = new Date()</code></li><li>IOå°±æ˜¯ä¸€ç§å‰¯ä½œç”¨!</li></ul><hr><p>æ‰€è°“çš„è°ƒç”¨æ¥å£ä¼šå¸¦æ¥å‰¯ä½œç”¨æ˜¯æŒ‡ï¼Ÿ è°ƒç”¨æ¥å£çš„è¾“å…¥æ˜¯å›ºå®šçš„ï¼Œæ¥å£çš„è¾“å‡ºåˆ™è·Ÿç½‘ç»œã€åç«¯é€»è¾‘ã€æ•°æ®åº“ç­‰ç›¸å…³ï¼Œå¹¶ä¸æ˜¯å•çº¯æ ¹æ®è¾“å…¥åœ¨å†…éƒ¨å˜é‡äº¤äº’åå¾—åˆ°ç›¸åŒçš„è¾“å‡º å‰¯ä½œç”¨å…·åƒåŒ–ï¼Œä¹Ÿå°±æ˜¯è¿™æ•´ä¸ªå‡½æ•°å°±æ˜¯å‰¯ä½œç”¨ï¼Œè€Œä¸æ˜¯è¯´è¾“å‡ºæˆ–æ˜¯åˆ«çš„å˜é‡æ˜¯å‰¯ä½œç”¨</p><hr><p>çº¯å‡½æ•° (Purity) è¾“å‡ºä»…ç”±è¾“å…¥å†³å®šï¼Œä¸”ä¸äº§ç”Ÿå‰¯ä½œç”¨(Side effects)ã€‚ å¦‚å‡½æ•°å†…éƒ¨ä½¿ç”¨åˆ°äº†é™¤äº†è¾“å…¥çš„å˜é‡ï¼Œè¿˜ç”¨åˆ°äº†å¤–éƒ¨å˜é‡ï¼Œåˆ™è¿™ä¸ªå‡½æ•°ä¸çº¯</p><hr><blockquote><p>ä»å†™æ³•ä¸Šçœ‹å‡½å­æ˜¯ä¸€ä¸ªå¯ä»¥é“¾å¼è°ƒç”¨çš„ç±» å¦‚ <code>[].map(fn1).map(fn2)</code>ã€<code>[].filter(fn1).filter(fn2)</code>ã€<code>new Promise(asyncFn).then(fn1).then(fn2)</code></p></blockquote><p>ğŸ¤”: ç»„åˆå†™æ³•å’Œé“¾å¼å†™æ³•ï¼Œéƒ½æ˜¯ä¸ºäº†å°è£…å¤ç”¨ä¼ é€’ç»“æœçš„è¿™æ®µé€»è¾‘ã€‚å¦‚ä½•é€‰æ‹©?</p><blockquote><p>ä»ä½œç”¨ä¸Šï¼Œæ®è¯´å‡½å­å¯ä»¥æŠŠæœ¬æ¥æœ‰çš„å‡½æ•°å‰¯ä½œç”¨ï¼Œå»¶è¿Ÿåˆ°æœ€åçš„æ—¶å€™å‡ºç°ï¼Œè€Œåœ¨ç¼–å†™é“¾å¼ä»£ç æ—¶ä¸ä¼šæœ‰å‰¯ä½œç”¨ å‰¯ä½œç”¨ä½¿ç”¨å‡½å­è¿›è¡Œç»Ÿä¸€ç®¡ç†</p></blockquote><p>ğŸ¤” ï¼Ÿï¼Ÿï¼Ÿ æ€ä¹ˆå°±æ¶ˆé™¤äº†å‰¯ä½œç”¨äº†ï¼Ÿ</p><p>è¯´åˆ°åº•ï¼Œå‡½æ•°ç»„åˆã€é“¾å¼è°ƒç”¨ï¼ŒåŸå­åŒ–å‡½æ•°çš„è¿‡ç¨‹å°±å·²ç»æŠŠå‰¯ä½œç”¨ç»™æ¶ˆé™¤äº†å§ï¼Ÿ</p><p>é’ˆå¯¹éšç€é“¾å¼è°ƒç”¨å†™æ³•çš„ä¸€äº›é—®é¢˜å¦‚</p><ol><li>ä¸­é€”å‚æ•°ç»“æœä¸ºnullå¯¼è‡´jså¼‚å¸¸çš„å¤„ç†</li><li>ä¸­é€”jså¼‚å¸¸çš„é”™è¯¯å®šä½ä¸æŠ›å‡º ï¼ˆè¿™äº›åœ¨å‡½æ•°ç»„åˆæ—¶ä¹Ÿå­˜åœ¨å§ï¼‰</li></ol><p>é’ˆå¯¹å‡½å­å·²ç»å°è£…äº†ä¸€å±‚çš„å‡½æ•°è°ƒç”¨ï¼Œå¯ä»¥é¢å¤–æ‰©å±•çš„åŠŸèƒ½</p><ol><li>æƒ°æ€§å¤„ç†ï¼Œå¢åŠ ä¸€ä¸ªè¿è¡Œå‡½æ•°runï¼Œæ•´ä¸ªé“¾å¼è°ƒç”¨çš„æœ€åä¸€æ­¥è¿è¡Œ <code>.run()</code> æ‰å¼€å§‹ä»å¤´æ‰§è¡Œ <ol><li>æŸ¯é‡ŒåŒ–å°±å®ç°äº†æƒ°æ€§è°ƒç”¨ï¼Œè®¾ç½®å¥½ä¸€äº›å¸¸é‡å‚æ•°</li></ol></li><li>é“¾å¼å¤„ç†å¼‚æ­¥</li><li>å‡½å­ä½œä¸ºå‡½å­çš„æ“ä½œå‡½æ•°æ—¶ï¼Œç”±äºå‡½å­æ˜¯å¯¹è±¡ï¼Œéœ€è¦<code>.value</code>è§£å‡ºæ¥ï¼Œé¢å¤–å¤„ç†è¿™ç§åµŒå¥—å‡½å­çš„åœºæ™¯</li></ol><p>å‡½å­çš„å®é™…åœºæ™¯ vue</p><ol><li>vue3çš„ function-api</li><li>vue3å„ç§computed watch onMountedå¯¼å…¥å†setupä¸­è‡ªè¡Œç»„åˆ</li></ol><p>react</p><ol><li>components</li><li>redux compose</li></ol><p>ramdajs rxjs</p><p><a href="https://juejin.cn/post/6844903991718084622" target="_blank" rel="noreferrer">å¦‚ä½•ç¼–å†™é«˜è´¨é‡çš„ JS å‡½æ•°ï¼ˆ4ï¼‰ --å‡½æ•°å¼ç¼–ç¨‹[å®æˆ˜ç¯‡]</a></p><blockquote><p>æ²¡æœ‰æåˆ°å‡½å­çŸ¥è¯†ï¼Œä¸ä»£è¡¨æˆ‘æ²¡æœ‰å®è·µè¿‡ï¼Œæ­£æ˜¯å› ä¸ºæˆ‘å®è·µè¿‡ï¼Œæ‰å†³å®šä¸æå®ƒï¼Œå› ä¸ºå¯¹äºå‰ç«¯æ¥è¯´ï¼Œæœ‰æ—¶å€™ä½ è¦é¡¾åŠæ•´ä¸ªå›¢é˜Ÿçš„æŠ€æœ¯ï¼Œç»„åˆå’ŒæŸ¯é‡Œè¿˜æœ‰é«˜é˜¶å‡½æ•°ç­‰è¿˜æ˜¯å¯ä»¥å¾ˆå¥½çš„æ»¡è¶³åŸºæœ¬éœ€æ±‚çš„ã€‚</p></blockquote><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1">å‚è€ƒèµ„æ–™ <a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-label="Permalink to &quot;å‚è€ƒèµ„æ–™&quot;">â€‹</a></h2><ul><li><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023021271742944" target="_blank" rel="noreferrer">å»–é›ªå³°é«˜é˜¶å‡½æ•°</a></li><li><a href="https://github.com/shfshanyue/fp-jargon-zh" target="_blank" rel="noreferrer">å‡½æ•°å¼ç¼–ç¨‹æœ¯è¯­</a></li><li><a href="https://www.cnblogs.com/bee0060/p/15704623.html" target="_blank" rel="noreferrer">[é‡æ„]ä¸€æ¬¡ç”¨ramdaé‡æ„çš„è®°å½•</a></li></ul>`,213),e=[o];function t(c,r,y,F,D,A){return n(),a("div",null,e)}const f=s(p,[["render",t]]);export{i as __pageData,f as default};
